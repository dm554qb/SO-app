<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa Batizovce</title>
    <link rel="stylesheet" href="styles/mapa.css">
    <link rel="stylesheet" href="libs/leaflet.css">
</head>
<body class="map-page">
    <header class="map-page">
        <h1 class="header-title">SO Air Quality Sprint App</h1>
        <nav class="navbar map-page">
            <a href="index.php" class="nav-link">Úvod</a>
            <a href="pocasie.html" class="nav-link">Počasie</a>
            <a href="mapa.html" class="nav-link active">Mapa</a>
            <a href="profil.html" class="nav-link">Profil</a>
            <a href="login.php" class="nav-link login-button">Login</a>
        </nav>
    </header>

    <main class="main-container">
        <div class="file-input-wrapper" style="display: flex; flex-direction: row; align-items: center; gap: 2px; margin: 25px 0;">
            <section class="file-input-container" style="flex: 1; text-align: center;">
                <label for="gpxInput" class="styled-label" style="display: block; margin-bottom: 10px;">Vyberte GPX súbor:</label>
                <input type="file" id="gpxInput" accept=".gpx" class="styled-file-input" style="width: 250px;">
            </section>

            <section class="file-input-container" style="flex: 1; text-align: center;">
                <label for="sensorCSVInput" class="styled-label" style="display: block; margin-bottom: 10px;">Vyberte CSV so senzorovými dátami:</label>
                <input type="file" id="sensorCSVInput" accept=".csv" class="styled-file-input" style="width: 250px;">
            </section>
            <section class="file-input-container" style="display: block; margin-top: 25px;">
                <button id="processButton" class="styled-button">Spustiť spracovanie</button>
            </section>
        </div>

        <p class="status-text" id="mergeStatus"></p>

        <div class="content-wrapper">
            <div id="map"></div>

            <aside class="data-section">
                <h2>Údaje z mapy</h2>
                <ul>
                    <li><h3 class="sidebar-title">Minimálne hodnoty:</h3><span id="minPM"></span></li>
                    <li><h3 class="sidebar-title">Maximálne hodnoty:</h3><span id="maxPM"></span></li>
                    <li><h3 class="sidebar-title">Priemerné hodnoty:</h3><span id="avgPM"></span></li>
                </ul>
            </aside>
        </div>
    </main>

    <footer class="map-page">
        <p>&copy; 2024 SO Air Quality Sprint App. Všetky práva vyhradené.</p>
    </footer>

    <script src="libs/leaflet.js"></script>
    <script src="https://unpkg.com/papaparse/papaparse.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
