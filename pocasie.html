<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Počasie</title>
    <link rel="stylesheet" href="pocasie.css">
    <link rel="stylesheet" href="uvod.css">

    <script>
        async function fetchWeatherByCityId(cityId, elementId) {
            const apiKey = 'fe04a97a6d4495c64b721cedb16596c2'; // Váš API kľúč
            const url = `https://api.openweathermap.org/data/2.5/weather?id=${cityId}&units=metric&lang=sk&appid=${apiKey}`;
            try {
                const response = await fetch(url);
                const data = await response.json();
                const temperature = data.main.temp; // Získanie teploty
                document.getElementById(elementId).textContent = `${temperature} °C`;
            } catch (error) {
                console.error(`Chyba pri načítaní údajov pre mesto ID (${cityId}):`, error);
                document.getElementById(elementId).textContent = "Chyba načítania";
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Načítanie údajov pre jednotlivé mestá pomocou City ID
            fetchWeatherByCityId(865084, 'temperature-kosice'); // Košice
            fetchWeatherByCityId(865085, 'temperature-presov'); // Prešov
            fetchWeatherByCityId(723846, 'temperature-batizovce'); // Batizovce
        });
    </script>
</head>
<body>
    <h1>SO Air Quality sprint app</h1>
        <nav>
            <a href="index.html" class="login-button1">Úvod</a>
            <a href="pocasie.html" class="login-button1">Počasie</a>
            <a href="mapa.html" class="login-button1">Mapa</a>
            <a href="profil.html" class="login-button1">Profil</a>
        </nav>

<h1>POČASIE</h1>

<div class="header">
    <input type="text" class="search-box" placeholder="Vyhľadávanie">
    <span class="location-icon"></span>
</div>



<div class="city-container">
    <div class="city-card" data-city="Kosice">
        <img src="images/kosice.jpg" alt="Košice">
        <div class="city-name">KOŠICE</div>
        <div class="city-info">TEPLOTA: <span id="temperature-kosice" class="highlight-temperature">Nahráva sa...</span><br>PRIEMERNÁ PM: Nahráva sa...</div>
        <a href="mapa_kosice.html" class="detail-button">DETAILNÁ MAPA</a>

        <div class="iframe-container">
            <iframe src="https://api.wo-cloud.com/content/widget/?geoObjectKey=1397050&language=en&region=GB&timeFormat=HH:mm&windUnit=kmh&systemOfMeasurement=metric&temperatureUnit=celsius"" name="CW2" scrolling="no" width="170" height="192" frameborder="0" style="border-radius: 8px"></iframe>
        </div>
    </div>
    <div class="city-card" data-city="Presov">
        <img src="images/presov.jpg" alt="Prešov">
        <div class="city-name">PREŠOV</div>
        <div class="city-info">TEPLOTA: <span id="temperature-presov" class="highlight-temperature">Nahráva sa...</span><br>PRIEMERNÁ PM: Nahráva sa...</div>
        <a href="mapa_presov.html" class="detail-button">DETAILNÁ MAPA</a>
        
        <div class="iframe-container">
            <iframe src="https://api.wo-cloud.com/content/widget/?geoObjectKey=15994426&language=en&region=GB&timeFormat=HH:mm&windUnit=kmh&systemOfMeasurement=metric&temperatureUnit=celsius" name="CW2" scrolling="no" width="170" height="192" frameborder="0" style="border-radius: 8px"></iframe>
        </div>
    </div>
    <div class="city-card" data-city="Batizovce">
        <img src="images/batizovce.jpg" alt="Batizovce">
        <div class="city-name">BATIZOVCE</div>
        <div class="city-info">TEPLOTA: <span id="temperature-batizovce" class="highlight-temperature">Nahráva sa...</span><br>PRIEMERNÁ PM: Nahráva sa...</div>
        <a href="mapa_batizovce.html" class="detail-button">DETAILNÁ MAPA</a>

        <div class="iframe-container">
            <iframe src="https://api.wo-cloud.com/content/widget/?geoObjectKey=11673804&language=en&region=GB&timeFormat=HH:mm&windUnit=kmh&systemOfMeasurement=metric&temperatureUnit=celsius" 
            name="CW2" scrolling="no" width="170" height="192" frameborder="0" style="border-radius: 8px">
            </iframe>
        </div>
    </div>
    
    <iframe
    width="100%"
    height="600"
    src="https://embed.windy.com/embed2.html?lat=48.673753&lon=19.696059&detailLat=48.673753&detailLon=19.696059&zoom=7&level=surface&overlay=temperature&product=ecmwf&menu=&message=true&marker=false&calendar=now&pressure=true&type=map&location=coordinates&metricWind=km%2Fh&metricTemp=%C2%B0C&radarRange=-1"
    frameborder="0"
    style="border: none; border-radius: 8px;">
</iframe>


</body>
</html>
